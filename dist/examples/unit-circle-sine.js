/**
* This interactive demonstrates the quadratic bezier command for a SVG path
* element. There are three control points that allow the user to control the
* shape of the bezier curve that is drawn.
*
* @title SVG Path Quadratic Bezier Curve
* @date May 3, 2019
* @author Kurt Bruns
*/
import Interactive from '../Interactive.js';
// Initialize the interactive
let id = 'unit-circle-sine';
let angleInteractive = new Interactive(id);
let margin = 18;
let radius = 80;
angleInteractive.width = 2 * radius + 2 * margin;
angleInteractive.height = 250;
angleInteractive.originX = angleInteractive.width / 2;
angleInteractive.originY = angleInteractive.height / 2;
angleInteractive.svg.style.display = 'inline';
// Create a circle
let circle = angleInteractive.circle(0, 0, 80);
// Create a control
let angleControl = angleInteractive.control(circle.r * Math.cos(-1), circle.r * Math.sin(-1));
angleControl.constrainToCircle(circle.cx, circle.cy, circle.r);
let triangle = angleInteractive.path('');
triangle.addDependency(angleControl);
triangle.update = function () {
    this.d = `M ${angleControl.x} 0 L ${angleControl.x} ${angleControl.y} L 0 0z`;
};
triangle.update();
let opposite = angleInteractive.path('');
opposite.root.style.stroke = 'red';
opposite.addDependency(angleControl);
opposite.update = function () {
    this.d = `M ${angleControl.x} 0 L ${angleControl.x} ${angleControl.y}`;
};
opposite.update();
// Create a point at the origin
let anglePoint = angleInteractive.circle(0, 0, 3);
anglePoint.fill = 'black';
let circumference = circle.r * 2 * Math.PI;
let interactive = new Interactive(id);
interactive.width = circumference + 2 * margin;
interactive.height = 250;
interactive.originX = margin;
interactive.originY = interactive.height / 2;
interactive.window = false;
interactive.svg.style.display = 'inline';
let graph = interactive.graph(false);
graph.function = (x) => { return Math.sin(x); };
graph.originX = 0;
graph.originY = 0;
graph.yAxis.style.stroke = 'none';
graph.xAxis.x1.baseVal.value = 0;
graph.xAxis.x2.baseVal.value = circle.r * 2 * Math.PI;
// interactive.svg.style.overflow = 'visible';
graph.translate(graph.originX, graph.originY);
graph.scale(2 * Math.PI / (circumference), circle.r);
graph.draw(0, circumference);
let y = interactive.line(0, 0, 0, 0);
y.root.style.stroke = 'red';
let control = interactive.control(0, 0);
function getAngle() {
    if (angleControl.y <= 0) {
        return Math.abs(Math.atan2(angleControl.y, angleControl.x));
    }
    else {
        return Math.PI * 2 - Math.atan2(angleControl.y, angleControl.x);
    }
}
control.addDependency(angleControl);
control.update = function () {
    this.x = circle.r * getAngle();
    this.y = angleControl.y;
};
control.update();
control.constrain = function (o, n) {
    return { x: n.x, y: graph.call(n.x) };
};
control.onchange = function () {
    angleControl.x = circle.r * Math.cos(control.x / circle.r);
    angleControl.y = control.y;
    angleControl.updateDependents();
};
y.addDependency(control);
y.update = function () {
    this.x1 = control.x;
    this.y1 = 0;
    this.x2 = control.x;
    this.y2 = control.y;
};
y.update();
interactive.line(0 * circumference / 4, -4, 0 * circumference / 4, 4);
interactive.line(1 * circumference / 4, -4, 1 * circumference / 4, 4);
interactive.line(2 * circumference / 4, -4, 2 * circumference / 4, 4);
interactive.line(3 * circumference / 4, -4, 3 * circumference / 4, 4);
interactive.line(4 * circumference / 4, -4, 4 * circumference / 4, 4);
interactive.text(0 * circumference / 4, -10, `0`).root.style.textAnchor = 'middle';
interactive.text(2 * circumference / 4, -10, `π`).root.style.textAnchor = 'middle';
interactive.text(4 * circumference / 4, -10, `τ`).root.style.textAnchor = 'middle';
// let text = interactive.text(interactive.width/2, - interactive.height/2 + 30, 'y = sin(θ)');
// text.root.style.textAnchor = 'middle';
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdC1jaXJjbGUtc2luZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NvdXJjZS9leGFtcGxlcy91bml0LWNpcmNsZS1zaW5lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztFQVFFO0FBRUYsT0FBTyxXQUFXLE1BQU0sbUJBQW1CLENBQUM7QUFFNUMsNkJBQTZCO0FBQzdCLElBQUksRUFBRSxHQUFHLGtCQUFrQixDQUFDO0FBQzVCLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDM0MsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ2hCLElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNoQixnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUMsTUFBTSxDQUFDO0FBQzdDLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDOUIsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDLEtBQUssR0FBQyxDQUFDLENBQUM7QUFDcEQsZ0JBQWdCLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUM7QUFDckQsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO0FBRTlDLGtCQUFrQjtBQUNsQixJQUFJLE1BQU0sR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUVoRCxtQkFBbUI7QUFDbkIsSUFBSSxZQUFZLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxDQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENB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